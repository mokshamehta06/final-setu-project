<%- include('../partials/header') %>

<div class="auth-container">
  <div class="auth-form-container auth-form-large">
    <div class="auth-logo">
      <a href="/">
        <img src="/api/placeholder/200/60" alt="SETU Logo">
      </a>
    </div>
    <h2>Agency Registration</h2>
    <p class="auth-subtitle">Create an agency account to start selling on our platform</p>
    
    <!-- Flash Messages -->
    <% if(typeof errors !== 'undefined' && errors.length > 0) { %>
      <% errors.forEach(function(error) { %>
        <div class="alert alert-danger"><%= error.msg %></div>
      <% }); %>
    <% } %>
    
    <form action="/auth/agency/register" method="POST" class="auth-form">
      <h3 class="form-section-title">Agency Information</h3>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="agencyName">Agency Name</label>
          <input type="text" id="agencyName" name="agencyName" value="<%= typeof agencyName !== 'undefined' ? agencyName : '' %>" required>
        </div>
        
        <div class="form-group col-md-6">
          <label for="businessType">Business Type</label>
          <select id="businessType" name="businessType" required>
            <option value="">Select business type</option>
            <option value="sole_proprietorship" <%= typeof businessType !== 'undefined' && businessType === 'sole_proprietorship' ? 'selected' : '' %>>Sole Proprietorship</option>
            <option value="partnership" <%= typeof businessType !== 'undefined' && businessType === 'partnership' ? 'selected' : '' %>>Partnership</option>
            <option value="llc" <%= typeof businessType !== 'undefined' && businessType === 'llc' ? 'selected' : '' %>>Limited Liability Company (LLC)</option>
            <option value="corporation" <%= typeof businessType !== 'undefined' && businessType === 'corporation' ? 'selected' : '' %>>Corporation</option>
            <option value="other" <%= typeof businessType !== 'undefined' && businessType === 'other' ? 'selected' : '' %>>Other</option>
          </select>
        </div>
      </div>
      
      <div class="form-group">
        <label for="businessDescription">Business Description</label>
        <textarea id="businessDescription" name="businessDescription" rows="3" required><%= typeof businessDescription !== 'undefined' ? businessDescription : '' %></textarea>
      </div>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="website">Website (Optional)</label>
          <input type="url" id="website" name="website" value="<%= typeof website !== 'undefined' ? website : '' %>" placeholder="https://www.example.com">
        </div>
        
        <div class="form-group col-md-6">
          <label for="phone">Business Phone</label>
          <input type="tel" id="phone" name="phone" value="<%= typeof phone !== 'undefined' ? phone : '' %>" required>
        </div>
      </div>
      
      <h3 class="form-section-title">Contact Information</h3>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" value="<%= typeof firstName !== 'undefined' ? firstName : '' %>" required>
        </div>
        
        <div class="form-group col-md-6">
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" value="<%= typeof lastName !== 'undefined' ? lastName : '' %>" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" value="<%= typeof email !== 'undefined' ? email : '' %>" required>
        </div>
        
        <div class="form-group col-md-6">
          <label for="position">Position/Title</label>
          <input type="text" id="position" name="position" value="<%= typeof position !== 'undefined' ? position : '' %>" required>
        </div>
      </div>
      
      <h3 class="form-section-title">Account Information</h3>
      
      <div class="form-row">
        <div class="form-group col-md-6">
          <label for="password">Password</label>
          <input type="password" id="password" name="password" required>
          <small class="form-text text-muted">Password must be at least 6 characters</small>
        </div>
        
        <div class="form-group col-md-6">
          <label for="confirmPassword">Confirm Password</label>
          <input type="password" id="confirmPassword" name="confirmPassword" required>
        </div>
      </div>
      
      <div class="form-group">
        <div class="checkbox">
          <input type="checkbox" id="terms" name="terms" required>
          <label for="terms">I agree to the <a href="/terms" target="_blank">Terms of Service</a> and <a href="/privacy" target="_blank">Privacy Policy</a></label>
        </div>
      </div>
      
      <div class="form-group">
        <div class="checkbox">
          <input type="checkbox" id="marketing" name="marketing">
          <label for="marketing">I agree to receive marketing communications from SETU</label>
        </div>
      </div>
      
      <div class="form-group">
        <button type="submit" class="btn-primary btn-block">Submit Application</button>
      </div>
      
      <div class="auth-links">
        <span>Already have an agency account?</span>
        <a href="/agency/login">Sign in</a>
      </div>
    </form>
  </div>
</div>

<%- include('../partials/footer') %>

